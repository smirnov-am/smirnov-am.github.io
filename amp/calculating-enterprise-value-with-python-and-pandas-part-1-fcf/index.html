<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "http:\/\/localhost:1313\/"
        },
        "articleSection" : "post",
        "name" : "Calculating enterprise value with Python and Pandas (part 1). FCF",
        "headline" : "Calculating enterprise value with Python and Pandas (part 1). FCF",
        "description" : "The latests documentation for pyfinmod is available here https:\/\/pyfinmod.readthedocs.io\/en\/latest\/\n Enterprise Value Value of the enterprise may be used to find out whether the price of company equity - a share - is worth what market offers. It\x26rsquo;s also used in acquisitions to get the price of the company as a whole.\nIn this post I\x26rsquo;ll cover 3 methods of Enterprise Value calculations:\n using accounting book efficient market approach discounted cash flows (DCF)  The latter one - DCF - is a complex topic.",
        "inLanguage" : "en-US",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2019",
        "datePublished": "2019-02-19 18:55:00 \x2b0000 UTC",
        "dateModified" : "2019-02-19 18:55:00 \x2b0000 UTC",
        "url" : "http:\/\/localhost:1313\/amp\/calculating-enterprise-value-with-python-and-pandas-part-1-fcf\/",
        "wordCount" : "948",
        "keywords" : [ "Financial Modelling","Blog" ]
    }
    </script>

<title>Calculating enterprise value with Python and Pandas (part 1). FCF | Alexey Smirnov</title>

<meta property='og:title' content='Calculating enterprise value with Python and Pandas (part 1). FCF - Alexey Smirnov'>
<meta property='og:description' content='The latests documentation for pyfinmod is available here https://pyfinmod.readthedocs.io/en/latest/
 Enterprise Value Value of the enterprise may be used to find out whether the price of company equity - a share - is worth what market offers. It&rsquo;s also used in acquisitions to get the price of the company as a whole.
In this post I&rsquo;ll cover 3 methods of Enterprise Value calculations:
 using accounting book efficient market approach discounted cash flows (DCF)  The latter one - DCF - is a complex topic.'>
<meta property='og:url' content='http://localhost:1313/amp/calculating-enterprise-value-with-python-and-pandas-part-1-fcf/'>
<meta property='og:site_name' content='Alexey Smirnov'>
<meta property='og:type' content='article'><meta property='og:image' content='http://localhost:1313/images/2019/04/pyfinmod2--1-.png'><meta property='article:published_time' content='2019-02-19T18:55:00Z'/><meta property='article:modified_time' content='2019-02-19T18:55:00Z'/><meta name='twitter:card' content='summary_large_image'><meta name='twitter:site' content='@'><meta name='twitter:creator' content='@'>


<link href="http://localhost:1313/index.xml" rel="alternate" type="application/rss+xml" title="Alexey Smirnov" />

<link rel="stylesheet" href="http://localhost:1313/css/style.css"/><link rel="apple-touch-icon" sizes="180x180" href="http://localhost:1313/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="manifest" href="http://localhost:1313/site.webmanifest">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg" color="#5bbad5">
<link rel="canonical" href="http://localhost:1313/amp/calculating-enterprise-value-with-python-and-pandas-part-1-fcf/">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<meta name="google-site-verification" content="LxHvTgaBdcBpIRtJMFKFiIvx5Mm45WC1z1S57O6O5O8" />
</head>
<body>
<section class="section">
  <div class="container">
    <nav id="nav-main" class="nav">
      <div id="nav-name" class="nav-left">
        <a id="nav-anchor" class="nav-item" href="http://localhost:1313/">
          <h1 id="nav-heading" class="title is-4">Alexey Smirnov</h1>
        </a>
      </div>
      <div class="nav-right">
        <nav id="nav-items" class="nav-item level is-mobile"><a class="level-item" aria-label="github" href='https://github.com/smirnov-am'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="linkedin" href='https://linkedin.com/in/smirnovam'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path stroke-width="1.8" d="m5.839218,4.101561c0,1.211972 -0.974141,2.194011 -2.176459,2.194011s-2.176459,-0.982039 -2.176459,-2.194011c0,-1.211094 0.974141,-2.194011 2.176459,-2.194011s2.176459,0.982917 2.176459,2.194011zm0.017552,3.94922l-4.388022,0l0,14.04167l4.388022,0l0,-14.04167zm7.005038,0l-4.359939,0l0,14.04167l4.360816,0l0,-7.370999c0,-4.098413 5.291077,-4.433657 5.291077,0l0,7.370999l4.377491,0l0,-8.89101c0,-6.915523 -7.829986,-6.66365 -9.669445,-3.259423l0,-1.891237z"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="rss" href='http://localhost:1313/index.xml'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>
    
  </svg></i>
            </span>
          </a></nav>
      </div>
    </nav>

    <nav class="nav">
      

      
    </nav>

  </div>
  <script src="http://localhost:1313/js/navicon-shift.js"></script>
</section>
<section class="section">
  <div class="container">
    <div class="subtitle tags is-6 is-pulled-right">
      
      
<a class="subtitle is-6" href="http://localhost:1313/tags/financial-modelling">#Financial Modelling</a>



      
    </div>
    <h2 class="subtitle is-6">February 19, 2019</h2>
    <h1 class="title">Calculating enterprise value with Python and Pandas (part 1). FCF</h1>
    
    <div class="content">
      

<blockquote>
<p>The latests documentation for <code>pyfinmod</code> is available here <a href="https://pyfinmod.readthedocs.io/en/latest/" target="_blank">https://pyfinmod.readthedocs.io/en/latest/</a></p>
</blockquote>

<h1 id="enterprise-value">Enterprise Value</h1>

<p>Value of the enterprise may be used to find out whether the price of company equity - a share - is worth what market offers. It&rsquo;s also used in acquisitions to get the price of the company as a whole.</p>

<p>In this post I&rsquo;ll cover 3 methods of Enterprise Value calculations:</p>

<ul>
<li>using accounting book</li>
<li>efficient market approach</li>
<li>discounted cash flows (DCF)</li>
</ul>

<p>The latter one - DCF - is a complex topic. So here I&rsquo;ll cover the first part - getting future the cash flows from cash flow statement. WACC, resulting calculations as well as market engineering and sensitivity analysis will be covered in later posts.</p>

<h2 id="methods-of-corporate-valuation">Methods of corporate valuation</h2>

<h3 id="1-using-an-accounting-book">1. Using an accounting book</h3>

<p>The idea behind this method is to rewrite the balance sheet in a way that all productive items are on the left side and financial items are on the right. Productive items include net working capital, property, <a href="https://www.investopedia.com/terms/i/intangibleasset.asp" target="_blank">intangible assets</a> (copyright, goodwill) and other fixed assets.Net working capital is defined as <strong>accounts receivable</strong> + <strong>inventories</strong> - <strong>accounts payable</strong> - <strong>taxes payable</strong>. Liquid assets such as cash will go on the right side to net financial debt.</p>

<p>So on the right-hand - financial side - we will have net financial debt (all short and long term debt minus liquid cash), other liabilities such as pensions, equity.</p>

<p>After moving all the items both columns should be in balance - column sums are equal and represent company value.</p>

<p>I failed to find a reliable API to get the company&rsquo;s balance sheet so I made a Yahoo Finance parser.</p>

<pre><code>from pyfinmod.yahoo_finance import YahooFinanceParser

parser = YahooFinanceParser('AAPL', 'balance-sheet')
parser.get_dataframe()

</code></pre>

<p>The resulting dataframe with AAPL balance sheet is:</p>

<table>
<thead>
<tr>
<th align="left">row name</th>
<th align="right">2018-09-29</th>
<th align="right">2017-09-30</th>
<th align="right">2016-09-24</th>
<th align="right">2015-09-26</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Cash And Cash Equivalents</td>
<td align="right">2.5913e+10</td>
<td align="right">2.0289e+10</td>
<td align="right">2.0484e+10</td>
<td align="right">2.112e+10</td>
</tr>

<tr>
<td align="left">Short Term Investments</td>
<td align="right">4.0388e+10</td>
<td align="right">5.3892e+10</td>
<td align="right">4.6671e+10</td>
<td align="right">2.0481e+10</td>
</tr>

<tr>
<td align="left">Net Receivables</td>
<td align="right">4.8995e+10</td>
<td align="right">3.5673e+10</td>
<td align="right">2.9299e+10</td>
<td align="right">3.0343e+10</td>
</tr>

<tr>
<td align="left">Inventory</td>
<td align="right">3.956e+09</td>
<td align="right">4.855e+09</td>
<td align="right">2.132e+09</td>
<td align="right">2.349e+09</td>
</tr>

<tr>
<td align="left">Other Current Assets</td>
<td align="right">1.2087e+10</td>
<td align="right">1.3936e+10</td>
<td align="right">8.283e+09</td>
<td align="right">1.4691e+10</td>
</tr>

<tr>
<td align="left">Total Current Assets</td>
<td align="right">1.31339e+11</td>
<td align="right">1.28645e+11</td>
<td align="right">1.06869e+11</td>
<td align="right">8.9378e+10</td>
</tr>

<tr>
<td align="left">Long Term Investments</td>
<td align="right">1.70799e+11</td>
<td align="right">1.94714e+11</td>
<td align="right">1.7043e+11</td>
<td align="right">1.64065e+11</td>
</tr>

<tr>
<td align="left">&hellip;</td>
<td align="right">&hellip;</td>
<td align="right">&hellip;</td>
<td align="right">&hellip;</td>
<td align="right">&hellip;</td>
</tr>
</tbody>
</table>

<p>To calculate enterprise value <code>get_enterprise_value</code> function can be used. And I found an interesting thing about Yahoo Finance page that there are no <code>Taxes Payable</code> row and <code>Total Current Liabilities</code> do not sum up to <code>Accounts Payable</code> + <code>Short/Current Long Term Debt</code> + <code>Other Current Liabilities</code>. So my calculations might be not very precise.</p>

<pre><code>from pyfinmod.yahoo_finance import YahooFinanceParser
from pyfinmod.ev import get_enterprise_value

parser = YahooFinanceParser('AAPL', 'balance-sheet')
df = parser.get_dataframe()
get_enterprise_value(df)

</code></pre>

<p>The result is:</p>

<pre><code>2018-09-29    271960000000
2017-09-30    298811000000
2016-09-24    233939000000
2015-09-26    202067000000

</code></pre>

<p>Also, there is a function to calculate net working capital:</p>

<pre><code>from pyfinmod.yahoo_finance import YahooFinanceParser
from pyfinmod.ev import get_net_working_capital

parser = YahooFinanceParser('AAPL', 'balance-sheet')
df = parser.get_dataframe()
get_net_working_capital(df)

</code></pre>

<pre><code>2018-09-29   -43167000000
2017-09-30   -41813000000
2016-09-24   -14106000000
2015-09-26   -13737000000

</code></pre>

<h3 id="2-efficient-market-approach">2. Efficient market approach</h3>

<p>If the company is publicly traded we can calculate market cap: number of shares multiplied by the share price. This is equity. It&rsquo;s different from the equity in the liabilities column from the balance sheet which represents the initial amount of money invested in a business (maybe not initial if the profits were reinvested).</p>

<p>The efficient market approach says that we need to substitute equity from the rewritten balance sheet as in the previous approach with the one defined by the market. Here lies the explanation of the name of the approach - a market with many participants trading company&rsquo;s shares who have the same information gives the most accurate evaluation of the company.</p>

<p>After doing the substitution new balance sheet is not in balance. In that case, net working capital is recalculated to re-balance it. The new column sum is the company&rsquo;s value.</p>

<p>As we can see in September 2018 AAPL value was 271.960B according to the balance sheet. But market cap it as 1.086T.</p>

<pre><code>from pyfinmod.yahoo_finance import YahooFinanceParser
from pyfinmod.ev import get_enterprise_value_efficient_market

parser = YahooFinanceParser('AAPL', 'balance-sheet')
df = parse.get_dataframe()
get_enterprise_value_efficient_market(df, 1086*10**9)

</code></pre>

<pre><code>2017-09-30    1250764000000
2016-09-24    1191690000000
2015-09-26    1168712000000

</code></pre>

<p>This is a resulting enterprise value given market cap.</p>

<h3 id="3-discounted-cash-flows">3. Discounted cash flows</h3>

<p>This approach aims to evaluate a company by its ability to generate money in future.It uses two terms: Future Cash Flows (<a href="https://www.investopedia.com/terms/f/freecashflow.asp" target="_blank">FCF</a>) and Weighted Average Cost of Capital (<a href="https://www.investopedia.com/terms/w/wacc.asp" target="_blank">WACC</a>)</p>

<p>FCFs are defined as the cash created by the companyâ€™s operating activities. WACC is the risk-adjusted discount rate appropriate to the risk of the FCFs. And the value of the company is calculated as net present value of FCFs discounted at WACC.</p>

<p>There is one assumption to this approach is that cash flows occur approximately mid-year. In that case, the formula for the enterprise value (EV) is:</p>

<figure>
    <img src="http://localhost:1313/content/images/2019/04/2019-04-29-19.27.38.jpg"/> 
</figure>


<p>There are two steps in getting FCFs:</p>

<ul>
<li>get historical FCFs either from pro forma or cash flow statements</li>
<li>project FCFs to the future assuming growth percentages</li>
</ul>

<p>I&rsquo;ll skip pro forma method for now</p>

<h4 id="fcf-from-cash-flow-statement">FCF from cash flow statement</h4>

<p>We need to add up these rows from the cash flow statement:</p>

<ul>
<li>Total Cash Flow From Operating Activities</li>
<li>Total Cash Flows From Investing Activities</li>
<li>Add back after-tax net interest</li>
</ul>

<p>The latter is calculated as (1 - <strong>Income tax rate</strong>) * <strong>Cash paid for Interest</strong>.<strong>Cash paid for interest</strong> is absolute the value of <code>Interest Expense</code>. <strong>Income tax rate</strong> equals <code>Income Tax Expense</code> / (<code>Net Income</code> + <code>Income Tax Expense</code>).</p>

<p><code>Income Tax Expense</code> and <code>Interest Expense</code> are taken from the  income statement. <code>Net Income</code> is taken from cash flow statement.</p>

<p>Example:</p>

<pre><code>from pyfinmod.ev import get_fcf_from_cscf
balance_sheet_parser = YahooFinanceParser('AAPL', 'balance-sheet')
balance_sheet = balance_sheet_parser.get_dataframe()

income_statement_parser = YahooFinanceParser('AAPL', 'income-statement')
income_statement = income_statement_parser.get_dataframe()

get_fcf_from_cscf(income_statement, cash_flow)

</code></pre>

<pre><code>2018-09-29    9.614571e+10
2017-09-30    1.953155e+10
2016-09-24    2.133789e+10
2015-09-26    2.553172e+10

</code></pre>

<p>In the next posts, I&rsquo;ll cover WACC calculation and DCF method usage. Code is in the repo <a href="https://github.com/smirnov-am/pyfinmod" target="_blank">here</a>. Feel free to reach out to me over <a href="https://www.linkedin.com/in/smirnovam/" target="_blank">LinkedIn</a> for any questions or corrections.</p>

      
      <div class="related">

<h3>Similar articles:</h3>
<ul>
	
	<li><a href="http://localhost:1313/amp/basic-financial-calculations-with-python-and-pandas/">Basic Financial Calculations with Python and Pandas</a></li>
	
</ul>
</div>
      
    </div>
    
  </div>
</section>

    <script src="http://localhost:1313/js/copycode.js"></script>



<section class="section">
  <div class="container has-text-centered">
    <p>&copy; Alexey Smirnov 2020</p>
    
  </div>
</section>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-107429956-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10&v=2"></' + 'script>')</script></body>
</html>

