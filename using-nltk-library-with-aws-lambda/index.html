<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Using NLTK library with AWS Lambda.</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=e6220510ab" />

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="canonical" href="https://smirnov-am.github.io/using-nltk-library-with-aws-lambda/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://smirnov-am.github.io/using-nltk-library-with-aws-lambda/amp/" />
    
    <meta property="og:site_name" content="smirnov-am.github.io" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Using NLTK library with AWS Lambda." />
    <meta property="og:description" content="I&#x27;m going to walk through the process of creating a simple serverless app for
finding part-of-speech tag of an input text.

1 Create virtual environment
mac:serverless_nltk as$ mkvirtualenv nltk_env


2 Install nltk
(nltk_env) mac:serverless_nltk as$ pip install nltk


3 Download nltk data
(nltk_env) mac:serverless_nltk as$ python 
Python 3.6.2 (v3.6.2:5fd33b5926, Jul 16 2017, 20:11:06) 
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for mo" />
    <meta property="og:url" content="https://smirnov-am.github.io/using-nltk-library-with-aws-lambda/" />
    <meta property="og:image" content="https://smirnov-am.github.io/content/images/2019/04/la.png" />
    <meta property="article:published_time" content="2018-05-09T17:22:00.000Z" />
    <meta property="article:modified_time" content="2019-04-27T17:25:30.000Z" />
    <meta property="article:tag" content="AWS" />
    <meta property="article:tag" content="NLP" />
    <meta property="article:tag" content="Serverless" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Using NLTK library with AWS Lambda." />
    <meta name="twitter:description" content="I&#x27;m going to walk through the process of creating a simple serverless app for
finding part-of-speech tag of an input text.

1 Create virtual environment
mac:serverless_nltk as$ mkvirtualenv nltk_env


2 Install nltk
(nltk_env) mac:serverless_nltk as$ pip install nltk


3 Download nltk data
(nltk_env) mac:serverless_nltk as$ python 
Python 3.6.2 (v3.6.2:5fd33b5926, Jul 16 2017, 20:11:06) 
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for mo" />
    <meta name="twitter:url" content="https://smirnov-am.github.io/using-nltk-library-with-aws-lambda/" />
    <meta name="twitter:image" content="https://smirnov-am.github.io/content/images/2019/04/la.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Alexey Smirnov" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="AWS, NLP, Serverless" />
    <meta property="og:image:width" content="1600" />
    <meta property="og:image:height" content="800" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "smirnov-am.github.io",
        "logo": {
            "@type": "ImageObject",
            "url": "https://smirnov-am.github.io/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Alexey Smirnov",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/f3f61e69a3bdf7419f19cb1be356c0b1?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://smirnov-am.github.io/author/alexey/",
        "sameAs": []
    },
    "headline": "Using NLTK library with AWS Lambda.",
    "url": "https://smirnov-am.github.io/using-nltk-library-with-aws-lambda/",
    "datePublished": "2018-05-09T17:22:00.000Z",
    "dateModified": "2019-04-27T17:25:30.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://smirnov-am.github.io/content/images/2019/04/la.png",
        "width": 1600,
        "height": 800
    },
    "keywords": "AWS, NLP, Serverless",
    "description": "I&#x27;m going to walk through the process of creating a simple serverless app for\nfinding part-of-speech tag of an input text.\n\n1 Create virtual environment\nmac:serverless_nltk as$ mkvirtualenv nltk_env\n\n\n2 Install nltk\n(nltk_env) mac:serverless_nltk as$ pip install nltk\n\n\n3 Download nltk data\n(nltk_env) mac:serverless_nltk as$ python \nPython 3.6.2 (v3.6.2:5fd33b5926, Jul 16 2017, 20:11:06) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for mo",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://smirnov-am.github.io/"
    }
}
    </script>

    <meta name="generator" content="Ghost 2.21" />
    <link rel="alternate" type="application/rss+xml" title="smirnov-am.github.io" href="https://smirnov-am.github.io/rss/" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107429956-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-107429956-1');
</script>

</head>
<body class="post-template tag-aws tag-nlp tag-serverless">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="https://smirnov-am.github.io">smirnov-am.github.io</a>
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="https://smirnov-am.github.io/">Home</a></li>
    <li class="nav-github" role="menuitem"><a href="https://github.com/smirnov-am">GitHub</a></li>
    <li class="nav-linkedin" role="menuitem"><a href="https://www.linkedin.com/in/smirnovam/">LinkedIn</a></li>
    <li class="nav-bookshelf" role="menuitem"><a href="https://www.goodreads.com/review/list/100768091-alex-smirnov">Bookshelf</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
        </div>
            <a class="rss-button" href="https://feedly.com/i/subscription/feed/https://smirnov-am.github.io/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-aws tag-nlp tag-serverless ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2018-05-09">9 May 2018</time>
                        <span class="date-divider">/</span> <a href="/tag/aws/">AWS</a>
                </section>
                <h1 class="post-full-title">Using NLTK library with AWS Lambda.</h1>
            </header>

            <figure class="post-full-image">
                <img
                    srcset="/content/images/size/w300/2019/04/la.png 300w,
                            /content/images/size/w600/2019/04/la.png 600w,
                            /content/images/size/w1000/2019/04/la.png 1000w,
                            /content/images/size/w2000/2019/04/la.png 2000w"
                    sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px"
                    src="/content/images/size/w2000/2019/04/la.png"
                    alt="Using NLTK library with AWS Lambda."
                />
            </figure>

            <section class="post-full-content">
                <div class="post-content">
                    <p>I'm going to walk through the process of creating a simple serverless app for finding part-of-speech tag of an input text.</p><h3 id="1-create-virtual-environment">1 Create virtual environment</h3><!--kg-card-begin: code--><pre><code>mac:serverless_nltk as$ mkvirtualenv nltk_env
</code></pre><!--kg-card-end: code--><h3 id="2-install-nltk">2 Install nltk</h3><!--kg-card-begin: code--><pre><code>(nltk_env) mac:serverless_nltk as$ pip install nltk
</code></pre><!--kg-card-end: code--><h3 id="3-download-nltk-data">3 Download nltk data</h3><!--kg-card-begin: code--><pre><code>(nltk_env) mac:serverless_nltk as$ python 
Python 3.6.2 (v3.6.2:5fd33b5926, Jul 16 2017, 20:11:06) 
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import nltk
&gt;&gt;&gt; nltk.download('tagsets')
[nltk_data] Downloading package tagsets to /Users/as/nltk_data...
[nltk_data]   Unzipping help/tagsets.zip.
True
</code></pre><!--kg-card-end: code--><h3 id="4-copy-downloaded-nltk-data-to-current-directory">4 Copy downloaded nltk data to current directory</h3><!--kg-card-begin: code--><pre><code>(nltk_env) mac:serverless_nltk as$ cp -R /Users/as/nltk_data/* ./
</code></pre><!--kg-card-end: code--><h3 id="5-copy-site-packages-from-virtualenv-directory-may-be-checked-with-which-python-">5 Copy site packages from virtualenv directory (may be checked with <code>which python</code>)</h3><!--kg-card-begin: code--><pre><code>(nltk_env) mac:serverless_nltk as$ cp -R /Users/as/.virtualenvs/nltk_env/lib/python3.6/site-packages/* ./
</code></pre><!--kg-card-end: code--><h3 id="6-now-let-s-create-a-lambda-function-code">6 Now let's create a lambda function code</h3><!--kg-card-begin: code--><pre><code>import imp
import sys
# since libsqlite3-dev is not installed in container running lambda
# this workaround of creating dummy empty modules is needed
sys.modules["sqlite"] = imp.new_module("sqlite")
sys.modules["sqlite3.dbapi2"] = imp.new_module("sqlite.dbapi2")
import nltk

from nltk.data import load
tagdict = load('help/tagsets/upenn_tagset.pickle')

def lambda_handler(event, context):
    text = event.get('text')
    tokenized = nltk.word_tokenize(text)
    tagged = nltk.pos_tag(tokenized)
    return {word: tagdict[tag][0] for word, tag in tagged}

</code></pre><!--kg-card-end: code--><h3 id="7-let-s-check-the-size-">7 Let's check the size.</h3><!--kg-card-begin: code--><pre><code>(nltk_env) mac:serverless_nltk as$ du -sh ./ | cut -f1
187M
</code></pre><!--kg-card-end: code--><h3 id="8-zip-everything">8 Zip everything</h3><!--kg-card-begin: code--><pre><code>(nltk_env) mac:serverless_nltk as$ zip -r -9 -q ./lambda.zip *
</code></pre><!--kg-card-end: code--><h3 id="9-upload-to-s3">9 Upload to S3</h3><!--kg-card-begin: code--><pre><code>(nltk_env) mac:serverless_nltk as$ aws s3 mb s3://serverless-nltk
(nltk_env) mac:serverless_nltk as$ aws s3 cp ./lambda.zip s3://serverless-nltk
</code></pre><!--kg-card-end: code--><h3 id="10-create-lambda">10 Create lambda</h3><!--kg-card-begin: code--><pre><code>(nltk_env) mac:serverless_nltk as$ aws lambda create-function \
                                            --function-name serverless-nltk \
                                            --runtime  python3.6 \
                                            --role arn:aws:iam::1234567890:role/lambda_basic_execution \
                                            --handler lambda_function.lambda_handler --code S3Bucket=serverless-nltk,S3Key=lambda2.zip \
                                            --environment Variables={NLTK_DATA=./} 
</code></pre><!--kg-card-end: code--><p>Key things here are</p><ul><li>role arn can be found in IAM (look for role with name <code>lambda_basic_execution</code>)</li><li>environment should create an environment variable telling nltk where look for data</li></ul><p>Now let's create a simple javascript application that will call lambda with user input from the page:</p><ol><li>Go to AWS Cognito</li><li>Create a new identity pool</li><li>In the first step check <code>Enable access to unauthenticated identities</code></li><li>In the <code>sample code</code> step select javascript and copy <code>IdentityPoolId</code> (needed in invocation script later)</li><li>Go to IAM</li><li>Find the role for unauthenticated access (it will look like <code>Cognito_serverless_nltkUnauth_Role</code>)</li><li>Select <code>Permission</code> and edit the role as json. It should look like this</li></ol><!--kg-card-begin: code--><pre><code>{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "mobileanalytics:PutEvents",
                "cognito-sync:*"
            ],
            "Resource": [
                "*"
            ]
        },
        {
            "Effect": "Allow",
            "Action": [
                "lambda:InvokeFunction"
            ],
            "Resource": [
                "arn:aws:lambda:us-east-1:1234567890:function:serverless-nltk"
            ]
        }
    ]
}
</code></pre><!--kg-card-end: code--><p>The script calling the lambda will look like this</p><!--kg-card-begin: code--><pre><code>&lt;script type="text/javascript"&gt;
    var button = document.getElementById('upload-button');
    AWS.config.credentials = new AWS.CognitoIdentityCredentials({IdentityPoolId: 'us-east-1:8b6a0b3d-6a2a-4c7d-b617-c8dafd8a1aec'});
    AWS.config.region = 'us-east-1';
    var lambda = new AWS.Lambda({region: 'us-east-1', apiVersion: '2015-03-31'});
    
    function htmlToElement(html) {
        var template = document.createElement('template');
        html = html.trim(); // Never return a text node of whitespace as the result
        template.innerHTML = html;
        return template.content.firstChild;
    }
    
    function call_lambda() { 
            var pullParams = {
                FunctionName : 'serverless-nltk',
                InvocationType : 'RequestResponse',
                LogType : 'None',
                Payload : JSON.stringify({text:document.getElementById("exampleFormControlTextarea1").value})
            };
            // create variable to hold data returned by the Lambda function
            var pullResults;
            lambda.invoke(pullParams, function(error, data) {
            if (error) {
                console.log(error);

            } else {
                pullResults = JSON.parse(data.Payload);
                console.log(pullResults);
                var result = document.getElementById("result")
                result.innerHTML = '';
                for (var key in pullResults) 
                {
                    var text = htmlToElement('&lt;span&gt;'+key+':&amp;nbsp;&lt;/span&gt;');
                    var pos = htmlToElement('&lt;span&gt;'+pullResults[key]+ '&lt;/span&gt;');
                    var line = htmlToElement('&lt;h6&gt;&lt;/h6&gt;');
                    line.appendChild(text);
                    line.appendChild(pos);
                    result.appendChild(line);
                }
            }
            });
    }; 
&lt;/script&gt;
</code></pre><!--kg-card-end: code--><p>The resulting app can be accessed <a href="http://serverless-nltk.s3-website-us-east-1.amazonaws.com/">here</a></p>
                </div>
            </section>


            <footer class="post-full-footer">


                    
<section class="author-card">
        <img class="author-profile-image" src="//www.gravatar.com/avatar/f3f61e69a3bdf7419f19cb1be356c0b1?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x" alt="Alexey Smirnov" />
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="/author/alexey/">Alexey Smirnov</a></h4>
            <p>Read <a href="/author/alexey/">more posts</a> by this author.</p>
    </section>
</section>
<div class="post-full-footer-right">
    <a class="author-card-button" href="/author/alexey/">Read More</a>
</div>


            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
                <article class="read-next-card"

                >
                    <header class="read-next-card-header">
                        <small class="read-next-card-header-sitetitle">&mdash; smirnov-am.github.io &mdash;</small>
                        <h3 class="read-next-card-header-title"><a href="/tag/aws/">AWS</a></h3>
                    </header>
                    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                    <div class="read-next-card-content">
                        <ul>
                            <li><a href="/ci-ci-pipeline-for-aws-lambda-python-runtime/">CI/CD  pipeline for AWS Lambda (Python runtime)</a></li>
                        </ul>
                    </div>
                    <footer class="read-next-card-footer">
                        <a href="/tag/aws/">1 post →</a>
                    </footer>
                </article>

                <article class="post-card post tag-python tag-flask tag-security ">

    <a class="post-card-image-link" href="/securing-flask-web-applications/">
        <img class="post-card-image"
            srcset="/content/images/size/w300/2019/04/flask11.jpg 300w,
                    /content/images/size/w600/2019/04/flask11.jpg 600w,
                    /content/images/size/w1000/2019/04/flask11.jpg 1000w,
                    /content/images/size/w2000/2019/04/flask11.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="/content/images/size/w600/2019/04/flask11.jpg"
            alt="Securing Flask web applications"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/securing-flask-web-applications/">

            <header class="post-card-header">
                    <span class="post-card-tags">python</span>
                <h2 class="post-card-title">Securing Flask web applications</h2>
            </header>

            <section class="post-card-excerpt">
                <p>I've just recently finished a web security training and in this post I'd like to investigate security mechanisms of my beloved web framework - Flask.I'll go through different types of possible vulnerabilities</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Alexey Smirnov
                    </div>

                        <a href="/author/alexey/" class="static-avatar">
                            <img class="author-profile-image" src="//www.gravatar.com/avatar/f3f61e69a3bdf7419f19cb1be356c0b1?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x" alt="Alexey Smirnov" />
                        </a>
                </li>
            </ul>

            <span class="reading-time">8 min read</span>

        </footer>

    </div>

</article>

                <article class="post-card post tag-machine-learning tag-nlp tag-python ">

    <a class="post-card-image-link" href="/extracting-keyphrases-from-texts-unsupervised-algorithm-topicrank/">
        <img class="post-card-image"
            srcset="/content/images/size/w300/2019/04/words-bg.png 300w,
                    /content/images/size/w600/2019/04/words-bg.png 600w,
                    /content/images/size/w1000/2019/04/words-bg.png 1000w,
                    /content/images/size/w2000/2019/04/words-bg.png 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="/content/images/size/w600/2019/04/words-bg.png"
            alt="Extracting keyphrases from texts: unsupervised algorithm TopicRank"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/extracting-keyphrases-from-texts-unsupervised-algorithm-topicrank/">

            <header class="post-card-header">
                    <span class="post-card-tags">machine learning</span>
                <h2 class="post-card-title">Extracting keyphrases from texts: unsupervised algorithm TopicRank</h2>
            </header>

            <section class="post-card-excerpt">
                <p>Keyphrase extraction is the task of identifying single or multi-word expressions that represent the main topics of a document.There are 2 approaches to extract topics (and/or keyphrases) from a text: supervised</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Alexey Smirnov
                    </div>

                        <a href="/author/alexey/" class="static-avatar">
                            <img class="author-profile-image" src="//www.gravatar.com/avatar/f3f61e69a3bdf7419f19cb1be356c0b1?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x" alt="Alexey Smirnov" />
                        </a>
                </li>
            </ul>

            <span class="reading-time">2 min read</span>

        </footer>

    </div>

</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://smirnov-am.github.io">
            <span>smirnov-am.github.io</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Using NLTK library with AWS Lambda.</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-fb" href="https://www.linkedin.com/shareArticle?url=https://smirnov-am.github.io/using-nltk-library-with-aws-lambda/&title=Using%20NLTK%20library%20with%20AWS%20Lambda." target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="26" height="26"
viewBox="0 0 192 192"
style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,192v-192h192v192z" fill="none"></path><g fill="#ffffff"><g id="surface1"><path d="M156,0h-120c-19.875,0 -36,16.125 -36,36v120c0,19.875 16.125,36 36,36h120c19.875,0 36,-16.125 36,-36v-120c0,-19.875 -16.125,-36 -36,-36zM59.36539,162.98077h-29.82693l-0.17307,-89.30769h29.82692zM43.70192,61.99038h-0.17308c-9.75,0 -16.03846,-6.72115 -16.03846,-15.08653c0,-8.56731 6.49039,-15.0577 16.41347,-15.0577c9.92308,0 16.00961,6.49038 16.21153,15.0577c0,8.36538 -6.31731,15.08653 -16.41346,15.08653zM162.77885,162.98077h-30.08654v-48.51923c0,-11.74039 -3.11538,-19.73077 -13.61538,-19.73077c-8.01923,0 -12.34615,5.39423 -14.42308,10.61538c-0.77885,1.875 -0.98077,4.44231 -0.98077,7.06731v50.56731h-30.23077l-0.17308,-89.30769h30.23077l0.17308,12.60577c3.86538,-5.97116 10.29808,-14.42308 25.70192,-14.42308c19.09616,0 33.37501,12.46154 33.37501,39.25961v51.86539z"></path></g></g></g></svg>
</a>
        <a class="floating-header-share-tw" href="http://www.reddit.com/submit?url=https://smirnov-am.github.io/using-nltk-library-with-aws-lambda/&title=Using%20NLTK%20library%20with%20AWS%20Lambda." target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14.238 15.348c.085.084.085.221 0 .306-.465.462-1.194.687-2.231.687l-.008-.002-.008.002c-1.036 0-1.766-.225-2.231-.688-.085-.084-.085-.221 0-.305.084-.084.222-.084.307 0 .379.377 1.008.561 1.924.561l.008.002.008-.002c.915 0 1.544-.184 1.924-.561.085-.084.223-.084.307 0zm-3.44-2.418c0-.507-.414-.919-.922-.919-.509 0-.923.412-.923.919 0 .506.414.918.923.918.508.001.922-.411.922-.918zm13.202-.93c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5-.129c0-.851-.695-1.543-1.55-1.543-.417 0-.795.167-1.074.435-1.056-.695-2.485-1.137-4.066-1.194l.865-2.724 2.343.549-.003.034c0 .696.569 1.262 1.268 1.262.699 0 1.267-.566 1.267-1.262s-.568-1.262-1.267-1.262c-.537 0-.994.335-1.179.804l-2.525-.592c-.11-.027-.223.037-.257.145l-.965 3.038c-1.656.02-3.155.466-4.258 1.181-.277-.255-.644-.415-1.05-.415-.854.001-1.549.693-1.549 1.544 0 .566.311 1.056.768 1.325-.03.164-.05.331-.05.5 0 2.281 2.805 4.137 6.253 4.137s6.253-1.856 6.253-4.137c0-.16-.017-.317-.044-.472.486-.261.82-.766.82-1.353zm-4.872.141c-.509 0-.922.412-.922.919 0 .506.414.918.922.918s.922-.412.922-.918c0-.507-.413-.919-.922-.919z"/></svg></a>
        <a class="floating-header-share-fb" href="https://news.ycombinator.com/submitlink?u=https://smirnov-am.github.io/using-nltk-library-with-aws-lambda/&t=Using%20NLTK%20library%20with%20AWS%20Lambda." target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="100" height="100"
viewBox="0 0 50 50"
style=" fill:#000000;">    <path d="M 4 4 L 4 5 L 4 46 L 46 46 L 46 4 L 4 4 z M 6 6 L 44 6 L 44 44 L 6 44 L 6 6 z M 12.652344 13 L 14.238281 15.947266 L 21 28.503906 L 21 36 L 21 38 L 23 38 L 27 38 L 29 38 L 29 36 L 29 28.503906 L 35.761719 15.947266 L 37.347656 13 L 34 13 L 30.824219 13 L 29.664062 13 L 29.087891 14.007812 L 25 21.158203 L 20.912109 14.007812 L 20.337891 13 L 19.177734 13 L 16 13 L 12.652344 13 z M 16 15 L 19.175781 15 L 25 25.1875 L 30.824219 15 L 34 15 L 27 28 L 27 36 L 23 36 L 23 28 L 16 15 z"></path></svg></a>
    </div>
    <progress id="reading-progress" class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://smirnov-am.github.io">smirnov-am.github.io</a> &copy; 2019</section>
                <nav class="site-footer-nav">
                    <a href="https://smirnov-am.github.io">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script>
        var images = document.querySelectorAll('.kg-gallery-image img');
        images.forEach(function (image) {
            var container = image.closest('.kg-gallery-image');
            var width = image.attributes.width.value;
            var height = image.attributes.height.value;
            var ratio = width / height;
            container.style.flex = ratio + ' 1 0%';
        })
    </script>


    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/built/jquery.fitvids.js?v=e6220510ab"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('#reading-progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();

});
</script>


    

</body>
</html>
