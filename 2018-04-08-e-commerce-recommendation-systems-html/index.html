<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>E-commerce recommendation systems: basket analysis. Performance comparison of most common algorithms.</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=e6220510ab" />

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="canonical" href="https://smirnov-am.github.io/2018-04-08-e-commerce-recommendation-systems-html/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://smirnov-am.github.io/2018-04-08-e-commerce-recommendation-systems-html/amp/" />
    
    <meta property="og:site_name" content="smirnov-am.github.io" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="E-commerce recommendation systems: basket analysis. Performance comparison of most common algorithms." />
    <meta property="og:description" content="Once novelty recommendation systems are used now by more and more e-commerce
sites to help customers find products to purchase. For e-commerce business
owners these tools facilitate cross-sales.

Usage
Amazon is one of the most prominent organizations used recommendations to
increase sales.
According to fortune.com
[http://fortune.com/2012/07/30/amazons-recommendation-secret/]  Amazon was able
to increase sales by 29% in 2012 as a result of implementing recommendation
system.
35% of Amazon’s rev" />
    <meta property="og:url" content="https://smirnov-am.github.io/2018-04-08-e-commerce-recommendation-systems-html/" />
    <meta property="og:image" content="https://smirnov-am.github.io/content/images/2019/04/2019-04-27-19.14.23.jpg" />
    <meta property="article:published_time" content="2018-04-08T14:18:00.000Z" />
    <meta property="article:modified_time" content="2019-04-27T17:14:42.000Z" />
    <meta property="article:tag" content="machine learning" />
    <meta property="article:tag" content="python" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="E-commerce recommendation systems: basket analysis. Performance comparison of most common algorithms." />
    <meta name="twitter:description" content="Once novelty recommendation systems are used now by more and more e-commerce
sites to help customers find products to purchase. For e-commerce business
owners these tools facilitate cross-sales.

Usage
Amazon is one of the most prominent organizations used recommendations to
increase sales.
According to fortune.com
[http://fortune.com/2012/07/30/amazons-recommendation-secret/]  Amazon was able
to increase sales by 29% in 2012 as a result of implementing recommendation
system.
35% of Amazon’s rev" />
    <meta name="twitter:url" content="https://smirnov-am.github.io/2018-04-08-e-commerce-recommendation-systems-html/" />
    <meta name="twitter:image" content="https://smirnov-am.github.io/content/images/2019/04/2019-04-27-19.14.23.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Alexey Smirnov" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="machine learning, python" />
    <meta property="og:image:width" content="516" />
    <meta property="og:image:height" content="334" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "smirnov-am.github.io",
        "logo": {
            "@type": "ImageObject",
            "url": "https://smirnov-am.github.io/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Alexey Smirnov",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/f3f61e69a3bdf7419f19cb1be356c0b1?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://smirnov-am.github.io/author/alexey/",
        "sameAs": []
    },
    "headline": "E-commerce recommendation systems: basket analysis. Performance comparison of most common algorithms.",
    "url": "https://smirnov-am.github.io/2018-04-08-e-commerce-recommendation-systems-html/",
    "datePublished": "2018-04-08T14:18:00.000Z",
    "dateModified": "2019-04-27T17:14:42.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://smirnov-am.github.io/content/images/2019/04/2019-04-27-19.14.23.jpg",
        "width": 516,
        "height": 334
    },
    "keywords": "machine learning, python",
    "description": "Once novelty recommendation systems are used now by more and more e-commerce\nsites to help customers find products to purchase. For e-commerce business\nowners these tools facilitate cross-sales.\n\nUsage\nAmazon is one of the most prominent organizations used recommendations to\nincrease sales.\nAccording to fortune.com\n[http://fortune.com/2012/07/30/amazons-recommendation-secret/]  Amazon was able\nto increase sales by 29% in 2012 as a result of implementing recommendation\nsystem.\n35% of Amazon’s rev",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://smirnov-am.github.io/"
    }
}
    </script>

    <meta name="generator" content="Ghost 2.21" />
    <link rel="alternate" type="application/rss+xml" title="smirnov-am.github.io" href="https://smirnov-am.github.io/rss/" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107429956-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-107429956-1');
</script>

</head>
<body class="post-template tag-machine-learning tag-python">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="https://smirnov-am.github.io">smirnov-am.github.io</a>
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="https://smirnov-am.github.io/">Home</a></li>
    <li class="nav-github" role="menuitem"><a href="https://github.com/smirnov-am">GitHub</a></li>
    <li class="nav-linkedin" role="menuitem"><a href="https://www.linkedin.com/in/smirnovam/">LinkedIn</a></li>
    <li class="nav-bookshelf" role="menuitem"><a href="https://smirnov-am.github.io/bookshelf/">Bookshelf</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
        </div>
            <a class="rss-button" href="https://feedly.com/i/subscription/feed/https://smirnov-am.github.io/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-machine-learning tag-python ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2018-04-08">8 April 2018</time>
                        <span class="date-divider">/</span> <a href="/tag/machine-learning/">machine learning</a>
                </section>
                <h1 class="post-full-title">E-commerce recommendation systems: basket analysis. Performance comparison of most common algorithms.</h1>
            </header>

            <figure class="post-full-image">
                <img
                    srcset="/content/images/size/w300/2019/04/2019-04-27-19.14.23.jpg 300w,
                            /content/images/size/w600/2019/04/2019-04-27-19.14.23.jpg 600w,
                            /content/images/size/w1000/2019/04/2019-04-27-19.14.23.jpg 1000w,
                            /content/images/size/w2000/2019/04/2019-04-27-19.14.23.jpg 2000w"
                    sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px"
                    src="/content/images/size/w2000/2019/04/2019-04-27-19.14.23.jpg"
                    alt="E-commerce recommendation systems: basket analysis. Performance comparison of most common algorithms."
                />
            </figure>

            <section class="post-full-content">
                <div class="post-content">
                    <p>Once novelty recommendation systems are used now by more and more e-commerce sites to help customers find products to purchase. For e-commerce business owners these tools facilitate cross-sales.</p><h2 id="usage">Usage</h2><p>Amazon is one of the most prominent organizations used recommendations to increase sales.<br>According to <a href="http://fortune.com/2012/07/30/amazons-recommendation-secret/">fortune.com</a> Amazon was able to increase sales by 29% in 2012 as a result of implementing recommendation system.<br>35% of Amazon’s revenue is generated by its recommendation engine <a href="https://www.mckinsey.com/industries/retail/our-insights/how-retailers-can-keep-up-with-consumers">(source)</a>.</p><p>Amazon is using <a href="https://www.computer.org/csdl/mags/ic/2017/03/mic2017030012.html">collaborative filtering approach</a></p><p>However there is another approach to mine items that a frequently bought together - <strong>association rule mining</strong>.</p><p>The difference is the unit of aggregation: collaborative filtering unit is user or items.</p><p>With user-to-user collaborative filtering approach algorithm finds a user which similar to you and suggests to buy the same he  bought. This is computationally difficult as there might be more users than items or users have very dissimilar interests.</p><p>With item-to-item collaborative filtering approach which is used by Amazon, algorithm finds a neighborhood of items that are bought/viewed by you and users that bought viewed the same item. Then items from that neighborhood are displayed as recommendations.</p><p>Association rule unit is a session (order), which makes this approach less personalized, as users and user purchase history is not taken into account.<br>But it has some strong points:</p><ul><li>it’s extremely simple and fast.</li><li>it will work with very small and sparse customer bases.</li><li>knowledge of the customer beyond what products or services they currently have is not necessary.</li></ul><p>However, there is one major drawback that makes association rule algorithms less favored by e-commerce - inability to catch so called "long tail". As online stores have a lot of items and some of them are bought rarely. But among these rare items there might be a pair that are of interested to specific group of people. Association rules are unlikely to finds them.</p><p>But these algorithms are useful for offline stores, where it's not possible to track users and find application in other areas.</p><h2 id="algorithms">Algorithms</h2><p><a href="http://www.vldb.org/conf/1994/P487.PDF"><strong>Apriori</strong></a>: it was introduced in 1993 , more than 20 years ago. It remains one of the most important data mining algorithms, not because it is the fastest, but because it has influenced the development of many other algorithms <a href="http://data-mining.philippe-fournier-viger.com/classic-data-mining-algorithm-1-apriori/">(source)</a></p><p><strong>Apriori-TID</strong>: is a variation of the Apriori algorithm. It was proposed in the same article as Apriori as an alternative implementation. It produces the same output, but does less scans<br>of the transaction database</p><p><a href="https://www.slideshare.net/deepa15/eclat-37310304"><strong>Eclat</strong></a>: is faster than Apriori, but less memory efficient</p><p><a href="http://dx.doi.org/10.1145/335191.335372"><strong>FP-Growth</strong></a>: most advanced and efficient implementation of frequent pattern mining</p><h2 id="input-parameters">Input parameters</h2><ul><li><em>order list</em>: database of all orders (transactions). Each entry is a subset of all items that are being sold (here item count is dropped)</li></ul><p>Example:</p><!--kg-card-begin: code--><pre><code>1 {item1, item3, item4}
2 {item2, item3, item5}
3 {item1, item2, item3, item5}
4 {item2, item5}
</code></pre><!--kg-card-end: code--><ul><li><em>list of all possible items on sale</em>: optional parameter that can determined by scanning order list once</li></ul><p>Example: <code>items = {item1, item2, item3, item4, item5}</code></p><ul><li><em>minimum support</em>: minimum frequency for an item or itemset to count as frequent</li></ul><p>Example: <code>min_support=0.1</code> means that we are interested in items or itemsets that appeared in minimum 10% of all orders</p><ul><li><em>minimum confidence</em>: parameter that says how likely item Y is purchased when item X is purchased, expressed as {X -&gt; Y}. This is measured by the proportion of transactions with item X, in which item Y also appears</li></ul><p>This can be calculated like so <code>confidence({X -&gt; Y}) = support({X, Y}) / support(X)</code></p><ul><li><em>minimum lift</em> (optional as not used in many implementations): parameter that says how likely item Y is purchased when item X is purchased,<br>while controlling for how popular item Y is. A lift value greater than 1 means that item Y is likely to be bought if item X is bought, while a value less than 1 means that item Y is unlikely to be bought if item X is bought</li></ul><p>Formula for lift is <code>lift({X -&gt; Y}) = support({X, Y}) / (support(X) * support(Y))</code></p><h2 id="output-">Output:</h2><p>A list of rules in a form (<code>from_itemset</code>, <code>to_itemset</code>, <code>confidence</code>, <code>lift</code>), where <code>from_itemset</code> and <code>to_itemset</code> are subsets of items on sale.</p><h2 id="making-a-recommendation">Making a recommendation</h2><p>Recommendation can be made, for example at a checkout, when user has item1 and item2 in the shopping cart. In that case <code>from_itemset = {item1, item2}</code> and using the list of rules we may find respective<br><code>to_itemset</code> with maximum confidence and/or lift.</p><h2 id="apriori-algorithm-">Apriori algorithm.</h2><h3 id="1st-step-">1st step:</h3><p>Let the <code>candidates_1</code> set to contain all individual items.</p><p>Now let's calculate support for each <code>candidate</code> in <code>candidates_1</code>.</p><p>Populate <code>layer_1</code> set with those candidates, which support is &gt;= <code>min_support</code></p><h3 id="2nd-step-">2nd step:</h3><p>Let the <code>candidates_2</code> be populated with all pairs from <code>layer_1</code></p><p>For example, if <code>layer_1 = {item1, item3, item4}</code></p><p>then <code>candidates_2 = [{item1, item3}, {item1, item4}, {item3, item4}]</code></p><p>Now let's calculate support for each <code>candidate</code> in <code>candidates_2</code> as in previous step by going through each order in order list.<br>Populate <code>layer_2</code> with those candidates from <code>candidates_2</code>, which support is &gt;= <code>min_support</code></p><h3 id="nth-step-">Nth step:</h3><p>Repeat step 2 until you can form candidates sets. Candidates for a next step are formed from a layer of a current step by unions of all possible pairs in layer set (elements of a layer should be sets to support this). This is also known as self-join.<br>Now we have filtered set of combinations of items and their respective support (support dictionary).</p><p>In each step we populate a support dictionary using itemsets as keys and their correspondent support as values.</p><h3 id="association-rules">Association rules</h3><p>Next step is to calculate all association rules.<br>Let's fix a hyper-parameters <code>min_confidence</code> and <code>min_lift</code>.</p><p>For all sets <code>L</code> in support dictionary let's create all non-empty subsets <code>S</code> of <code>L</code>, and evaluate confidence and lift for a rule <code>{S -&gt; L-S}</code> and save rules, whose parameters are greater of equal then minimal.</p><p><em>In a notion {X -&gt; Y}, X is called from-itemset, and Y - to-itemset.</em></p><h2 id="apriori-tid">Apriori-TID</h2><ul><li>the order list is not used at all for counting the support of candidate itemsets after the first pass.</li><li>the candidate itemsets are generated the same way as in Apriori algorithm</li><li>rules are generated the same way after support dictionary is populated<br>The only different is that in each layer &gt; 1 a separate list C' is created.<br>C' hold transaction ids with corresponding itemsets from candidates on that layer that are in that particular transaction.</li></ul><p>For example, using order list from above first layer would yield such support dictionary:</p><!--kg-card-begin: code--><pre><code>item1 0.5
item2 0.75
item3 0.75 
item5 0.75
</code></pre><!--kg-card-end: code--><p>Second layer candidates set is:</p><!--kg-card-begin: code--><pre><code>{item1, item2} 0.25
{item1, item3} 0.5 *
{item1, item5} 0.25
{item2, item3} 0.5 *
{item2, item5} 0.75 *
{item3, item5} 0.5 *
</code></pre><!--kg-card-end: code--><p>So <code>layer_2</code> will consist from itemsets with <code>*</code>. And at this step we create a separate data structure to hold transaction IDs for these sets that made it to <code>layer_2</code></p><!--kg-card-begin: code--><pre><code>1 {item1, item3}
2 {item2, item3} {item2, item5} {item3, item5}
3 {item1, item2} {item1, item3} {item1, item5} {item2, item3} {item2, item5} {item3, item5}
4 {item2, item5}
</code></pre><!--kg-card-end: code--><p>Using this additional list we will calculate support for candidates for <code>layer_3</code>.</p><h2 id="eclat">Eclat</h2><p>Another way to speedup support calculation is to keep a list of transaction ids for every itemset at each layer. It speeds up support calculation even more, but these transaction lists can be large in size.</p><p>Again using the same order list in first step, transaction ID list will be</p><!--kg-card-begin: code--><pre><code>item1 1, 3
item2 2, 3, 4
item3 1, 2, 3
item4 1
item5 2, 3, 4
</code></pre><!--kg-card-end: code--><p>item4 won't be included in the next layer, and this list can help us to calculate lists for all possible pairs for the next step:</p><!--kg-card-begin: code--><pre><code>{item1 item2} 3
{item1 item3} 1, 3
{item1 item4} 1
{item1 item5} 3
{item2 item3} 2, 3
...etc
</code></pre><!--kg-card-end: code--><h2 id="fp-growth">FP-Growth</h2><p>This one is different from Apriori-like algorithms in a way that candidate itemsets are not generated explicitly. FP-growth uses a suffix tree (FP-tree) structure to encode transactions thus speeds up support calculation.</p><h2 id="tests">Tests</h2><p>Dataset was taken from <a href="http://archive.ics.uci.edu/ml/datasets/Online+Retail">http://archive.ics.uci.edu/ml/datasets/Online+Retail</a> <em>Daqing Chen, Sai Liang Sain, and Kun Guo, Data mining for the online retail industry: A case study of RFM model-based customer segmentation using data mining, Journal of Database Marketing and Customer Strategy Management, Vol. 19, No. 3, pp. 197â€“208, 2012 (Published online before print: 27 August 2012. doi: 10.1057/dbm.2012.17).</em></p><h3 id="preprocessing">Preprocessing</h3><p>As each row contains <code>InvoiceNo</code> and <code>StockCode</code>, let's group items by <code>InvoiceNo</code></p><!--kg-card-begin: code--><pre><code>import csv
from collections import defaultdict

order_list = defaultdict(list)

with open('data.csv', encoding="iso-8859-1") as f:
    csv_reader = csv.DictReader(f)
    for row in csv_reader:
        order_list[row['InvoiceNo']].append(row['StockCode'])
</code></pre><!--kg-card-end: code--><p>Some stats of the dataset:</p><ul><li>number of orders: 25900</li><li>4070 items on sale</li><li>minimum order: 1 item</li><li>maximum order: 1114 items</li><li>mean order size: ~21 items</li></ul><h3 id="python-implementation">Python implementation</h3><p>I've implemented all 4 aforementioned algorithms <a href="https://github.com/smirnov-am/pyfreqpm">here</a>.<br>FP-Growth needs some more testing though, so I've used <a href="https://spark.apache.org/docs/2.3.0/mllib-frequent-pattern-mining.html">Apache Spark</a></p><p>Running times with <code>min_support=0.03</code>, <code>min_confidence=0.5</code>, <code>min_lift=1.0</code> are:</p><p>Algorithmrun time, smemmory used, MBapriori-gen21050apriori-tid35202eclat*8000fp-growth8</p><p>* Eclat generated long id lists and it depleted 8GB RAM very fast in my docker container, so I never ended this test.</p><h3 id="generated-rules">Generated rules</h3><p>All algorithms showed same 3 rules, with 2nd and 3rd being the same pair.</p><p>from_itemsetto_itemsetconfidencelift2238685099B0.678.222697226990.7417.122699226970.717.1</p><p>22386 = JUMBO BAG PINK POLKADOT</p><p>85099B = JUMBO BAG RED RETROSPOT</p><p>22697 = GREEN REGENCY TEACUP AND SAUCER</p><p>22699 = ROSES REGENCY TEACUP AND SAUCER</p><p>Not very impressive findings, so it worth trying to experiment with different input parameters.<br>But based on them we can recommend someone buying "JUMBO BAG PINK POLKADOT" to get a "JUMBO BAG RED RETROSPOT" as well. Same goes for teacups.</p><h2 id="another-usages-of-frequent-pattern-mining">Another usages of frequent pattern mining</h2><p><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.300.4808&amp;rep=rep1&amp;type=pdf">Network traffic</a></p><p><a href="http://www.ijeert.org/pdf/v3-i10/9.pdf">Web pages</a></p><p><a href="https://pdfs.semanticscholar.org/5662/e754f611c34c01e3126c3df63a4ce6e78cb3.pdf">Image classification</a></p><p><a href="https://academic.oup.com/bib/article/16/2/216/245744">Bio informatics</a></p><p>What approach for recommendation system are you using? Drop me a message on LinkedIn <a href="https://www.linkedin.com/in/smirnovam/">https://www.linkedin.com/in/smirnovam/</a></p>
                </div>
            </section>


            <footer class="post-full-footer">


                    
<section class="author-card">
        <img class="author-profile-image" src="//www.gravatar.com/avatar/f3f61e69a3bdf7419f19cb1be356c0b1?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x" alt="Alexey Smirnov" />
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="/author/alexey/">Alexey Smirnov</a></h4>
            <p>Read <a href="/author/alexey/">more posts</a> by this author.</p>
    </section>
</section>
<div class="post-full-footer-right">
    <a class="author-card-button" href="/author/alexey/">Read More</a>
</div>


            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
                <article class="read-next-card"

                >
                    <header class="read-next-card-header">
                        <small class="read-next-card-header-sitetitle">&mdash; smirnov-am.github.io &mdash;</small>
                        <h3 class="read-next-card-header-title"><a href="/tag/machine-learning/">machine learning</a></h3>
                    </header>
                    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                    <div class="read-next-card-content">
                        <ul>
                            <li><a href="/extracting-keyphrases-from-texts-unsupervised-algorithm-topicrank/">Extracting keyphrases from texts: unsupervised algorithm TopicRank</a></li>
                        </ul>
                    </div>
                    <footer class="read-next-card-footer">
                        <a href="/tag/machine-learning/">1 post →</a>
                    </footer>
                </article>

                <article class="post-card post tag-machine-learning tag-nlp tag-python ">

    <a class="post-card-image-link" href="/extracting-keyphrases-from-texts-unsupervised-algorithm-topicrank/">
        <img class="post-card-image"
            srcset="/content/images/size/w300/2019/04/words-bg.png 300w,
                    /content/images/size/w600/2019/04/words-bg.png 600w,
                    /content/images/size/w1000/2019/04/words-bg.png 1000w,
                    /content/images/size/w2000/2019/04/words-bg.png 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            src="/content/images/size/w600/2019/04/words-bg.png"
            alt="Extracting keyphrases from texts: unsupervised algorithm TopicRank"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/extracting-keyphrases-from-texts-unsupervised-algorithm-topicrank/">

            <header class="post-card-header">
                    <span class="post-card-tags">machine learning</span>
                <h2 class="post-card-title">Extracting keyphrases from texts: unsupervised algorithm TopicRank</h2>
            </header>

            <section class="post-card-excerpt">
                <p>Keyphrase extraction is the task of identifying single or multi-word expressions that represent the main topics of a document.There are 2 approaches to extract topics (and/or keyphrases) from a text: supervised</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Alexey Smirnov
                    </div>

                        <a href="/author/alexey/" class="static-avatar">
                            <img class="author-profile-image" src="//www.gravatar.com/avatar/f3f61e69a3bdf7419f19cb1be356c0b1?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x" alt="Alexey Smirnov" />
                        </a>
                </li>
            </ul>

            <span class="reading-time">2 min read</span>

        </footer>

    </div>

</article>


        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://smirnov-am.github.io">
            <span>smirnov-am.github.io</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">E-commerce recommendation systems: basket analysis. Performance comparison of most common algorithms.</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-fb" href="https://www.linkedin.com/shareArticle?url=https://smirnov-am.github.io/2018-04-08-e-commerce-recommendation-systems-html/&title=E-commerce%20recommendation%20systems%3A%20basket%20analysis.%20Performance%20comparison%20of%20most%20common%20algorithms." target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="26" height="26"
viewBox="0 0 192 192"
style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,192v-192h192v192z" fill="none"></path><g fill="#ffffff"><g id="surface1"><path d="M156,0h-120c-19.875,0 -36,16.125 -36,36v120c0,19.875 16.125,36 36,36h120c19.875,0 36,-16.125 36,-36v-120c0,-19.875 -16.125,-36 -36,-36zM59.36539,162.98077h-29.82693l-0.17307,-89.30769h29.82692zM43.70192,61.99038h-0.17308c-9.75,0 -16.03846,-6.72115 -16.03846,-15.08653c0,-8.56731 6.49039,-15.0577 16.41347,-15.0577c9.92308,0 16.00961,6.49038 16.21153,15.0577c0,8.36538 -6.31731,15.08653 -16.41346,15.08653zM162.77885,162.98077h-30.08654v-48.51923c0,-11.74039 -3.11538,-19.73077 -13.61538,-19.73077c-8.01923,0 -12.34615,5.39423 -14.42308,10.61538c-0.77885,1.875 -0.98077,4.44231 -0.98077,7.06731v50.56731h-30.23077l-0.17308,-89.30769h30.23077l0.17308,12.60577c3.86538,-5.97116 10.29808,-14.42308 25.70192,-14.42308c19.09616,0 33.37501,12.46154 33.37501,39.25961v51.86539z"></path></g></g></g></svg>
</a>
        <a class="floating-header-share-tw" href="http://www.reddit.com/submit?url=https://smirnov-am.github.io/2018-04-08-e-commerce-recommendation-systems-html/&title=E-commerce%20recommendation%20systems%3A%20basket%20analysis.%20Performance%20comparison%20of%20most%20common%20algorithms." target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14.238 15.348c.085.084.085.221 0 .306-.465.462-1.194.687-2.231.687l-.008-.002-.008.002c-1.036 0-1.766-.225-2.231-.688-.085-.084-.085-.221 0-.305.084-.084.222-.084.307 0 .379.377 1.008.561 1.924.561l.008.002.008-.002c.915 0 1.544-.184 1.924-.561.085-.084.223-.084.307 0zm-3.44-2.418c0-.507-.414-.919-.922-.919-.509 0-.923.412-.923.919 0 .506.414.918.923.918.508.001.922-.411.922-.918zm13.202-.93c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5-.129c0-.851-.695-1.543-1.55-1.543-.417 0-.795.167-1.074.435-1.056-.695-2.485-1.137-4.066-1.194l.865-2.724 2.343.549-.003.034c0 .696.569 1.262 1.268 1.262.699 0 1.267-.566 1.267-1.262s-.568-1.262-1.267-1.262c-.537 0-.994.335-1.179.804l-2.525-.592c-.11-.027-.223.037-.257.145l-.965 3.038c-1.656.02-3.155.466-4.258 1.181-.277-.255-.644-.415-1.05-.415-.854.001-1.549.693-1.549 1.544 0 .566.311 1.056.768 1.325-.03.164-.05.331-.05.5 0 2.281 2.805 4.137 6.253 4.137s6.253-1.856 6.253-4.137c0-.16-.017-.317-.044-.472.486-.261.82-.766.82-1.353zm-4.872.141c-.509 0-.922.412-.922.919 0 .506.414.918.922.918s.922-.412.922-.918c0-.507-.413-.919-.922-.919z"/></svg></a>
        <a class="floating-header-share-fb" href="https://news.ycombinator.com/submitlink?u=https://smirnov-am.github.io/2018-04-08-e-commerce-recommendation-systems-html/&t=E-commerce%20recommendation%20systems%3A%20basket%20analysis.%20Performance%20comparison%20of%20most%20common%20algorithms." target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
width="100" height="100"
viewBox="0 0 50 50"
style=" fill:#000000;">    <path d="M 4 4 L 4 5 L 4 46 L 46 46 L 46 4 L 4 4 z M 6 6 L 44 6 L 44 44 L 6 44 L 6 6 z M 12.652344 13 L 14.238281 15.947266 L 21 28.503906 L 21 36 L 21 38 L 23 38 L 27 38 L 29 38 L 29 36 L 29 28.503906 L 35.761719 15.947266 L 37.347656 13 L 34 13 L 30.824219 13 L 29.664062 13 L 29.087891 14.007812 L 25 21.158203 L 20.912109 14.007812 L 20.337891 13 L 19.177734 13 L 16 13 L 12.652344 13 z M 16 15 L 19.175781 15 L 25 25.1875 L 30.824219 15 L 34 15 L 27 28 L 27 36 L 23 36 L 23 28 L 16 15 z"></path></svg></a>
    </div>
    <progress id="reading-progress" class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://smirnov-am.github.io">smirnov-am.github.io</a> &copy; 2019</section>
                <nav class="site-footer-nav">
                    <a href="https://smirnov-am.github.io">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script>
        var images = document.querySelectorAll('.kg-gallery-image img');
        images.forEach(function (image) {
            var container = image.closest('.kg-gallery-image');
            var width = image.attributes.width.value;
            var height = image.attributes.height.value;
            var ratio = width / height;
            container.style.flex = ratio + ' 1 0%';
        })
    </script>


    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/built/jquery.fitvids.js?v=e6220510ab"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('#reading-progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();

});
</script>


    

</body>
</html>
